{"visual":{"name":"rVisualSample","displayName":"rVisualSample","guid":"rVisualSample118F63583603487791208F4FB8B1D475","visualClassName":"Visual","version":"1.0.0","description":"some description","supportUrl":"myurl.com","gitHubUrl":"https://github.com/doka-guide/content"},"author":{"name":"bu","email":"bu@ya.ru"},"apiVersion":"3.8.0","style":"style/visual.less","stringResources":{},"capabilities":{"dataRoles":[{"displayName":"Values","kind":"GroupingOrMeasure","name":"dataset"}],"dataViewMappings":[{"scriptResult":{"dataInput":{"table":{"rows":{"select":[{"for":{"in":"dataset"}}],"dataReductionAlgorithm":{"top":{}}}}},"script":{"scriptProviderDefault":"R","scriptOutputType":"png","source":{"objectName":"rcv_script","propertyName":"source"},"provider":{"objectName":"rcv_script","propertyName":"provider"},"scriptSourceDefault":"library(corrplot)\ncorr <- cor(dataset)\n\nif (!exists(\"settings_method\"))\n{\n    settings_method = \"circle\";\n}\n\ncorrplot(corr, method=settings_method, order = \"hclust\")"}}}],"objects":{"rcv_script":{"properties":{"provider":{"type":{"text":true}},"source":{"type":{"scripting":{"source":true}}}}},"settings":{"displayName":"Visual Settings","description":"Settings to control the look and feel of the visual","properties":{"method":{"displayName":"Data Look","description":"Control the look and feel of the data points in the visual","type":{"enumeration":[{"displayName":"Circle","value":"circle"},{"displayName":"Square","value":"square"},{"displayName":"Ellipse","value":"ellipse"},{"displayName":"Number","value":"number"},{"displayName":"Shade","value":"shade"},{"displayName":"Color","value":"color"},{"displayName":"Pie","value":"pie"}]}}}}},"suppressDefaultTitle":true},"dependencies":{"cranPackages":[{"name":"corrplot","displayName":"corrplot","url":"https://cran.r-project.org/web/packages/corrplot/"}]},"content":{"js":"var rVisualSample118F63583603487791208F4FB8B1D475;(()=>{\"use strict\";var e={936:(e,t,r)=>{function n(e){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){if(t&&(\"object\"===n(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}r.d(t,{Jx:()=>s});var s=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,r,n=(t=s,r=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=u(t);if(r){var o=u(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return a(this,e)});function s(){var e;return o(this,s),(e=n.apply(this,arguments)).rcv_script=new l,e.settings=new c,e}return s}(r(576).U),c=function e(){o(this,e),this.method=\"circle\"},l=function e(){o(this,e)}},254:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(936);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.imageDiv=document.createElement(\"div\"),this.imageDiv.className=\"rcv_autoScaleImageContainer\",this.imageElement=document.createElement(\"img\"),this.imageElement.className=\"rcv_autoScaleImage\",this.imageDiv.appendChild(this.imageElement),t.element.appendChild(this.imageDiv)}var t,r,i;return t=e,i=[{key:\"parseSettings\",value:function(e){return n.Jx.parse(e)}}],(r=[{key:\"update\",value:function(t){if(t&&t.type&&t.viewport&&t.dataViews&&0!==t.dataViews.length&&t.dataViews[0]){var r=t.dataViews[0];this.settings=e.parseSettings(r);var n=null;r.scriptResult&&r.scriptResult.payloadBase64&&(n=\"data:image/png;base64,\"+r.scriptResult.payloadBase64),this.imageElement.src=n||null,this.onResizing(t.viewport)}}},{key:\"onResizing\",value:function(e){this.imageDiv.style.height=e.height+\"px\",this.imageDiv.style.width=e.width+\"px\",this.imageElement.style.height=e.height+\"px\",this.imageElement.style.width=e.width+\"px\"}},{key:\"enumerateObjectInstances\",value:function(e){return n.Jx.enumerateObjectInstances(this.settings||n.Jx.getDefault(),e)}}])&&o(t.prototype,r),i&&o(t,i),e}()},829:(e,t,r)=>{function n(e,t,r){if(!e)return r;var n=e[t];return void 0===n?r:n}r.d(t,{N:()=>n})},625:(e,t,r)=>{r.d(t,{d9:()=>i});var n=r(829);function o(e){return o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o(e)}function i(e,t,r){var i=function(e,t,r){return e?n.N(e[t.objectName],t.propertyName,r):r}(e,t,r);return i&&i.solid?i.solid.color:null==i||\"object\"===o(i)&&!i.solid?r:i}},576:(e,t,r)=>{r.d(t,{U:()=>i});var n=r(625);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,i;return t=e,i=[{key:\"getDefault\",value:function(){return new this}},{key:\"createPropertyIdentifier\",value:function(e,t){return{objectName:e,propertyName:t}}},{key:\"parse\",value:function(e){var t,r=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return r;for(var o in t=r.getProperties())for(var i in t[o]){var a=r[o][i];r[o][i]=n.d9(e.metadata.objects,t[o][i],a)}return r}},{key:\"isPropertyEnumerable\",value:function(t){return!e.InnumerablePropertyPrefix.test(t)}},{key:\"enumerateObjectInstances\",value:function(e,t){var r=e&&e[t.objectName];if(!r)return[];var n={objectName:t.objectName,selector:null,properties:{}};for(var o in r)r.hasOwnProperty(o)&&(n.properties[o]=r[o]);return{instances:[n]}}}],(r=[{key:\"getProperties\",value:function(){var t=this,r={};return Object.keys(this).forEach((function(n){if(e.isPropertyEnumerable(n)){var o=Object.keys(t[n]);r[n]={},o.forEach((function(t){e.isPropertyEnumerable(n)&&(r[n][t]=e.createPropertyIdentifier(n,t))}))}})),r}}])&&o(t.prototype,r),i&&o(t,i),e}();i.InnumerablePropertyPrefix=/^_/},738:e=>{e.exports=Function(\"return this\")()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{default:()=>i});var e=r(254),t=r(738).powerbi,o={name:\"rVisualSample118F63583603487791208F4FB8B1D475\",displayName:\"rVisualSample\",class:\"Visual\",apiVersion:\"3.8.0\",create:function(t){if(e.u)return new e.u(t);throw\"Visual instance not found\"},createModalDialog:function(e,t,r){var n=globalThis.dialogRegistry;e in n&&new n[e](t,r)},custom:!0};void 0!==t&&(t.visuals=t.visuals||{},t.visuals.plugins=t.visuals.plugins||{},t.visuals.plugins.rVisualSample118F63583603487791208F4FB8B1D475=o);const i=o})(),rVisualSample118F63583603487791208F4FB8B1D475=n})();\n//# sourceMappingURL=visual.js.map","css":"","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NEY1QjA1NUQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NEY1QjA1NEQ0OTAxMUUwQTgxREI2NjMxMkNEMUNEMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Mjk5RDU1ODBGRDRFMDExQTcxQ0JFODI3ODBCQUE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBOEJGMzkxN0NBRDNFMDExQTcxQ0JFODI3ODBCQUE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDoNX0AAAI3SURBVHjarJRLSFVRFIY9t7SiRDGLoEEPCRJRaCSYkxCiFCXCF+LIMExQLkilgumgwkbdBuWDRC2EomhURCOjgagkXEgKLUKhidobM6H0+i34rxyPnuvEA5/rXPda/1l7739vJxKJxG3ls93+hEKhTILxJhgMftmsiPxdhHw4CfepeR8dCyjWwwB0kZy3iVgCoQ2ewnmXxhrBD7Cgr/ZQVA17fDRPw2UYhzK6G99IsBse6/0QNME+H8FT4EA/YiPqOgA1q4IMzBNuw6iKjkCpj+Av+AdnEEmD3bxfhzvuDk30HaEaLsEkXCO53rN+Bwg5qsvTuj/TjGYtx9nINhRmEx7AYWiFW7AXOuEcbPOUvIZ2mnrl+PkQUbNEh4QHNKUSDdsSBWEOlmxTEfvs26FL9Khe211if6Acgee+xo7xzMgBxfq9qPe3fgWBGN2lEnqtG9nExM7CV3jp3bDos2bKJB0nHFRxAxRpA/5CIXyHh5ABv6GZqd9dJ6iz2SjbxMMypGhJFtTlNzu3kK7xgDxpove8U66FK2A+s6nul5gVVMEL+Ak7lG/T+g9JcIOGar2CRUoogxMwpP/bLTJMB9bRhDbkk5bBUU0y3ES0xS04CBfN9RSHiY90vJK0BHaSzG9h2eejS3RJeVfdtrGzuGyd8CX7Yq6ExuCH63jaVMPkFOv6OibB6DKs2+VEQp+WYBoqERn2sVWWRNN0YurIfeL14U6YkpkLYCSG6e0yqdCxvKBLIm5FgAEAV0nKuwMYRUsAAAAASUVORK5CYII="},"visualEntryPoint":"","toolsVersion":null}